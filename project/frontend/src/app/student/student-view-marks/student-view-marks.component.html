<div class="marks-container">
    
    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
      <p>Loading marks...</p>
    </div>
  
    
    <div *ngIf="error" class="error-message">
      <p>{{ error }}</p>
    </div>
  
    
    <div *ngIf="!loading && !error" class="marks-content">
      <h2>Weekly Assessment Marks</h2>
      
      <div class="table-responsive">
        <table class="marks-table">
          <thead>
            <tr>
              <th>Week</th>
              <th>Marks</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let week of weeks">
              <td>Week {{ week }}</td>
              <td [ngClass]="getMarkColor(getMarkForWeek(week))">
                {{ getMarkForWeek(week) !== null ? getMarkForWeek(week) : '-' }}
              </td>
              <td>
                <span class="status-indicator" [ngClass]="getMarkColor(getMarkForWeek(week))">
                  {{ getMarkForWeek(week) !== null ? '●' : '-' }}
                </span>
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr class="average-row">
              <td><strong>Average</strong></td>
              <td colspan="2" [ngClass]="getMarkColor(averageMarks)">
                <strong>{{ averageMarks }}</strong>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
  
      
      <div class="marks-legend">
        <h3>Performance Indicators</h3>
        <div class="legend-items">
          <div class="legend-item">
            <span class="status-indicator excellent">●</span>
            <span>Excellent (90-100)</span>
          </div>
          <div class="legend-item">
            <span class="status-indicator good">●</span>
            <span>Good (80-89)</span>
          </div>
          <div class="legend-item">
            <span class="status-indicator average">●</span>
            <span>Average (70-79)</span>
          </div>
          <div class="legend-item">
            <span class="status-indicator needs-improvement">●</span>
            <span>Needs Improvement (<70)</span>
          </div>
        </div>
      </div>
    </div>
  </div>